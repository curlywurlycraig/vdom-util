(()=>{var y=t=>Array.isArray(t)&&t.length>1&&typeof t[1]=="object"&&!Array.isArray(t[1]),b=(t,e)=>{let[,r]=t._hic||[];return Object.entries(e).forEach(([n,s])=>{r&&typeof r[n]=="function"&&t.removeEventListener(n,r[n]),typeof s=="function"?t.addEventListener(n.toLowerCase(),s):(n==="value"&&(t.value=s),t.setAttribute(n,s))}),t},f=([t,...e])=>{let n=!Array.isArray(e[0])&&typeof e[0]=="object"?[t,e[0],...e.slice(1)]:[t,{},...e],s=M(...n);return s._hic=n,s},H=t=>{let e={};for(var r=0;r<t.length;r++){let n=t[r];e[n.name]=n.value}return e},C=t=>{if(t.nodeType!==1)return t.nodeValue;let e=t.tagName,r=t.attributes,n=t.childNodes,s=[];for(var u=0;u<n.length;u++)s.push(C(n[u]));return[e.toLowerCase(),H(r),...s]},M=(t,e,...r)=>{let n=b(document.createElement(t),e);return(u=>u.map(a=>Array.isArray(a)&&a.length===0?"":a).map(a=>typeof a=="string"||typeof a=="number"?a:f(a)))(r).reduce((u,a)=>(u.append(a),u),n)},i=([t,e,...r])=>{if(typeof t=="function")return i(t({...e,children:r}));let n=r.map(s=>Array.isArray(s)&&s.length?i(s):s);return[t,e,...n]},v=(t,e)=>(t.innerHTML="",t.appendChild(f(i(e))),t),c=(t,e)=>{let r=t.children[0];return!r||r._hic===void 0?v(t,e):E(r,i(e))},E=(t,e)=>{let[r,n,...s]=e,u=t._hic,[a,S,...P]=u;if(a!==r)return v(t.parentNode,e);for(b(t,n),s.forEach((d,g)=>{if(!t.childNodes[g]){let w=y(d)?f(d):document.createTextNode(d);t.appendChild(w);return}if(y(d)){E(t.childNodes[g],d);return}t.childNodes[g].nodeValue=d});t.childNodes.length>s.length;)t.childNodes[s.length].remove();return t._hic=e,t},h=(t,e)=>{let r=C(t),n=i(e({children:r}));v(t,n)},p=t=>{let e={triggers:[],value:t,addTrigger:r=>{e.triggers.push(r)},set:r=>{e.value=r,e.triggers.forEach(n=>n(r,e.set,e))}};return e},m=t=>Object.entries(t).reduce((e,[r,n])=>`${e}; ${r}: ${n}; `,""),o=(t,e,...r)=>{let s=r.length===1&&Array.isArray(r[0])&&!y(r[0])?r[0]:r;return[t,e||{},...s]};var T=document.getElementById("main"),x=document.getElementById("mousepad"),G=document.getElementById("extra"),B=document.getElementById("editor"),I=({children:t})=>o("div",{style:m({border:"1px solid #445",padding:"10px"})},t),A=p(0),L=({count:t,setCount:e})=>o(I,null,o("p",null,"count is ",t),o("button",{click:()=>e(t+1)},"increment")),W=p([0,0]);A.addTrigger((t,e)=>c(T,o(L,{count:t,setCount:e})));var _=({count:t,setCount:e})=>o("p",{style:m({color:t>15?"red":t>10?"orange":t>5?"yellow":"white"})},new Array(t).fill(".")),$=({count:t,setCount:e})=>o("input",{input:r=>e(Number(r.target.value)),value:t});A.addTrigger((t,e)=>c(B,o($,{count:t,setCount:e})));A.set(0);var l=p(0);l.addTrigger(t=>c(T,o(_,{count:t})));c(x,o("div",null,o("button",{click:()=>l.set(l.value+1)},"+"),o("button",{click:()=>l.set(Math.max(0,l.value-1))},"-")));h(document.getElementById("ellipse"),({children:t})=>o("p",null,"This used to be: ",t));var j=[{name:"Craig",age:28},{name:"Meg",age:30},{name:"Geordi",age:.4}],O=({search:t,setSearch:e})=>{let r=j.filter(n=>n.name.includes(t)||n.age.toString().includes(t));return console.log("results are ",r),o("div",null,o("input",{input:n=>e(n.target.value),value:t}),o("table",{style:m({margin:"10px"})},o("thead",null,o("tr",null,o("th",null,"Name"),o("th",null,"Age"),o("th",null,"An input"))),o("tbody",null,r.map(n=>o("tr",null,o("td",null,n.name),o("td",null,n.age),o("td",null,o("input",null)))))))},N=p("");N.addTrigger((t,e)=>c(document.getElementById("searcher"),o(O,{search:t,setSearch:e})));N.set("");})();
