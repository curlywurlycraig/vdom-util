(()=>{var y=t=>Array.isArray(t)&&t.length>1&&typeof t[1]=="object"&&!Array.isArray(t[1]),E=(t,e)=>{let[,n]=t._hic||[];return Object.entries(e).forEach(([s,r])=>{n&&typeof n[s]=="function"&&t.removeEventListener(s,n[s]),typeof r=="function"?t.addEventListener(s.toLowerCase(),r):(s==="value"&&(t.value=r),t.setAttribute(s,r))}),t},v=([t,...e],n="http://www.w3.org/1999/xhtml")=>{let r=!Array.isArray(e[0])&&typeof e[0]=="object"?[t,e[0],...e.slice(1)]:[t,{},...e],u=L(r,n);return u._hic=r,u},I=t=>{let e={};for(var n=0;n<t.length;n++){let s=t[n];e[s.name]=s.value}return e},C=t=>{if(t._hic)return t._hic;if(t.nodeType!==1)return t.nodeValue;let e=t.tagName,n=t.attributes,s=t.childNodes,r=[];for(var u=0;u<s.length;u++)r.push(C(s[u]));return[e.toLowerCase(),I(n),...r]},L=([t,e,...n],s="http://www.w3.org/1999/xhtml")=>{t==="svg"&&!e.xmlns&&console.warn("Using an SVG without a namespace will result in the SVG not displaying correctly.",'Try adding "xmlns="http://www.w3.org/2000/svg" to the <svg> element.');let r=e.xmlns||s,u=document.createElementNS(r,t),f=E(u,e);return(i=>i.map(a=>Array.isArray(a)&&a.length===0?"":a).map(a=>typeof a=="string"||typeof a=="number"||!a?a:v(a,r)))(n).reduce((i,a)=>(i.append(a),i),f)},l=([t,e,...n])=>{if(typeof t=="function")return l(t({...e,children:n}));let s=n.map(r=>Array.isArray(r)&&r.length?l(r):r);return[t,e,...s]},T=(t,e)=>(t.innerHTML="",t.appendChild(v(l(e))),t),w=(t,e)=>{let[n,s,...r]=e,u=t._hic,[f,j,...i]=u;if(f!==n)return T(t.parentNode,e);for(E(t,s),r.forEach((a,h)=>{if(!t.childNodes[h]){let B=y(a)?v(a):document.createTextNode(a);t.appendChild(B);return}if(y(a)){w(t.childNodes[h],a);return}t.childNodes[h].nodeValue=a});t.childNodes.length>r.length;)t.childNodes[r.length].remove();return t._hic=e,t},N=(t,e)=>{previousHic=t._hic?t._hic:C(t),t._hic=previousHic;let n=l(e({children:previousHic}));w(t,n)},c=(t,e)=>{let n=t.children[0];return!n||n._hic===void 0?T(t,e):w(n,l(e))};var o=(t,e,...n)=>{let s=n.reduce((r,u)=>!y(u)&&Array.isArray(u)?[...r,...u]:u==null?r:[...r,u],[]);return[t,e||{},...s]};var g=t=>Object.entries(t).reduce((e,[n,s])=>`${e}; ${n}: ${s}; `,"");var d=t=>{let e={triggers:[],value:t,addTrigger:n=>{e.triggers.push(n)},set:n=>{e.value=n,e.triggers.forEach(s=>s(n,e.set,e))}};return e},b=(t,e)=>{let n=()=>e(t);Object.values(t).forEach(s=>s.addTrigger(n)),n()};var x=document.getElementById("main"),S=document.getElementById("mousepad"),q=document.getElementById("extra"),k=document.getElementById("editor"),O=({children:t})=>o("div",{style:g({border:"1px solid #445",padding:"10px"})},t),A=d(0),$=({count:t,setCount:e})=>o(O,null,o("p",null,"count is ",t),o("button",{click:()=>e(t+1)},"increment"));A.addTrigger((t,e)=>c(x,o($,{count:t,setCount:e})));var F=({count:t,setCount:e})=>o("p",{style:g({color:t>15?"red":t>10?"orange":t>5?"yellow":"white"})},new Array(t).fill(".")),M=({count:t,setCount:e})=>o("input",{input:n=>e(Number(n.target.value)),value:t});b({count:A},({count:t})=>{let e=n=>{isNaN(n)||t.set(n)};c(k,o(M,{count:t.value,setCount:e}))});A.set(0);var m=d(0);m.addTrigger(t=>c(x,o(F,{count:t})));c(S,o("div",null,o("button",{click:()=>m.set(m.value+1)},"+"),o("button",{click:()=>m.set(Math.max(0,m.value-1))},"-")));N(document.getElementById("ellipse"),({children:t})=>o("p",null,"This used to be: ",t));var _=[{name:"Craig",age:28},{name:"Meg",age:30},{name:"Geordi",age:.4}];for(p=0;p<1e3;p++)_.push({name:`Player_${p}`,age:p});var p,V=({search:t,setSearch:e,items:n})=>{let s=n.filter(r=>r.name.toLowerCase().includes(t.toLowerCase())||r.age.toString().includes(t));return o("div",null,o("input",{placeholder:"Search table",input:r=>e(r.target.value),value:t}),o("table",{style:g({margin:"10px"})},o("thead",null,o("tr",null,o("th",null,"Name"),o("th",null,"Age"),o("th",null,"An input"))),o("tbody",null,s.map(r=>o("tr",null,o("td",null,r.name),o("td",null,r.age),o("td",null,o("input",null)))))))},H=d("");H.addTrigger((t,e)=>c(document.getElementById("searcher"),o(V,{search:t,setSearch:e,items:_})));H.set("");var G=({isFetching:t,result:e,onClickFetch:n})=>o("div",null,t?"fetching...":"not fetching",e?`got ${e}`:"nothing yet",o("button",{click:n},"Click to get the author of this package"));b({isFetching:d(!1),result:d(null)},({isFetching:t,result:e})=>{let n=async()=>{t.set(!0);let r=await(await fetch("package.json")).json();t.set(!1),e.set(r.author)};c(document.getElementById("package-json-fetcher"),o(G,{isFetching:t.value,result:e.value,onClickFetch:n}))});})();
