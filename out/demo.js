(()=>{var f=t=>Array.isArray(t)&&t.length>1&&typeof t[1]=="object"&&!Array.isArray(t[1]),E=(t,e)=>{let[,r]=t._hic||[];return Object.entries(e).forEach(([n,o])=>{r&&typeof r[n]=="function"&&t.removeEventListener(n,r[n]),typeof o=="function"?t.addEventListener(n.toLowerCase(),o):(n==="value"&&(t.value=o),t.setAttribute(n,o))}),t},v=([t,...e])=>{let n=!Array.isArray(e[0])&&typeof e[0]=="object"?[t,e[0],...e.slice(1)]:[t,{},...e],o=B(...n);return o._hic=n,o},w=t=>{let e={};for(var r=0;r<t.length;r++){let n=t[r];e[n.name]=n.value}return e},m=t=>{if(t._hic)return t._hic;if(t.nodeType!==1)return t.nodeValue;let e=t.tagName,r=t.attributes,n=t.childNodes,o=[];for(var u=0;u<n.length;u++)o.push(m(n[u]));return[e.toLowerCase(),w(r),...o]},B=(t,e,...r)=>{let n=E(document.createElement(t),e);return(u=>u.map(a=>Array.isArray(a)&&a.length===0?"":a).map(a=>typeof a=="string"||typeof a=="number"?a:v(a)))(r).reduce((u,a)=>(u.append(a),u),n)},i=([t,e,...r])=>{if(typeof t=="function")return i(t({...e,children:r}));let n=r.map(o=>Array.isArray(o)&&o.length?i(o):o);return[t,e,...n]},A=(t,e)=>(t.innerHTML="",t.appendChild(v(i(e))),t),d=(t,e)=>{let r=t.children[0];return!r||r._hic===void 0?A(t,e):C(r,i(e))},C=(t,e)=>{let[r,n,...o]=e,u=t._hic,[a,O,...P]=u;if(a!==r)return A(t.parentNode,e);for(E(t,n),o.forEach((c,y)=>{if(!t.childNodes[y]){let H=f(c)?v(c):document.createTextNode(c);t.appendChild(H);return}if(f(c)){C(t.childNodes[y],c);return}t.childNodes[y].nodeValue=c});t.childNodes.length>o.length;)t.childNodes[o.length].remove();return t._hic=e,t},T=(t,e)=>{let r=m(t),n=i(e({children:r}));A(t,n)},p=t=>{let e={triggers:[],value:t,addTrigger:r=>{e.triggers.push(r)},set:r=>{e.value=r,e.triggers.forEach(n=>n(r,e.set,e))}};return e},g=t=>Object.entries(t).reduce((e,[r,n])=>`${e}; ${r}: ${n}; `,""),s=(t,e,...r)=>{let o=r.length===1&&Array.isArray(r[0])&&!f(r[0])?r[0]:r;return[t,e||{},...o]};var N=document.getElementById("main"),I=document.getElementById("mousepad"),D=document.getElementById("extra"),M=document.getElementById("editor"),_=({children:t})=>s("div",{style:g({border:"1px solid #445",padding:"10px"})},t),h=p(0),x=({count:t,setCount:e})=>s(_,null,s("p",null,"count is ",t),s("button",{click:()=>e(t+1)},"increment")),G=p([0,0]);h.addTrigger((t,e)=>d(N,s(x,{count:t,setCount:e})));var S=({count:t,setCount:e})=>s("p",{style:g({color:t>15?"red":t>10?"orange":t>5?"yellow":"white"})},new Array(t).fill(".")),L=({count:t,setCount:e})=>s("input",{input:r=>e(Number(r.target.value)),value:t});h.addTrigger((t,e)=>d(M,s(L,{count:t,setCount:e})));h.set(0);var l=p(0);l.addTrigger(t=>d(N,s(S,{count:t})));d(I,s("div",null,s("button",{click:()=>l.set(l.value+1)},"+"),s("button",{click:()=>l.set(Math.max(0,l.value-1))},"-")));T(document.getElementById("ellipse"),({children:t})=>s("p",null,"This used to be: ",t));var $=[{name:"Craig",age:28},{name:"Meg",age:30},{name:"Geordi",age:.4}],j=({search:t,setSearch:e,items:r})=>{let n=r.filter(o=>o.name.includes(t)||o.age.toString().includes(t));return s("div",null,s("input",{placeholder:"Search table",input:o=>e(o.target.value),value:t}),s("table",{style:g({margin:"10px"})},s("thead",null,s("tr",null,s("th",null,"Name"),s("th",null,"Age"),s("th",null,"An input"))),s("tbody",null,n.map(o=>s("tr",null,s("td",null,o.name),s("td",null,o.age),s("td",null,s("input",null)))))))},b=p("");b.addTrigger((t,e)=>d(document.getElementById("searcher"),s(j,{search:t,setSearch:e,items:$})));b.set("");b.addTrigger(()=>d(document.getElementById("svg-dupe"),m(document.querySelector("#searcher"))));})();
